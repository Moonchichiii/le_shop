@import "tailwindcss";
@plugin "tailwindcss-animate";

/* ==========================================================================
   ART LEPTIS â€” DESIGN SYSTEM (2026)
   - Tokens live in @theme
   - Base styles in @layer base
   - Utilities in @layer utilities
   - Components & layout blocks in @layer components
   ========================================================================== */

@theme {
  /* -----------------------------
     COLOR TOKENS (Paper / Ink)
     ----------------------------- */
  --color-arti-paper: #fbf7f0;
  --color-arti-bg: var(--color-arti-paper);
  --color-arti-surface: #ffffff;
  --color-arti-mist: #f2efe8;

  --color-arti-ink: #0b0c0f;
  --color-arti-ink-60: rgba(11, 12, 15, 0.62);

  /* Structural line / dividers */
  --color-arti-rule: rgba(11, 12, 15, 0.18);

  /* -----------------------------
     SIGNAL (System Blue)
     ----------------------------- */
  --color-arti-signal-50:  #eef7ff;
  --color-arti-signal-200: #bfe6ff;
  --color-arti-signal-400: #4dbdff;
  --color-arti-signal-500: #0aa8ff;
  --color-arti-signal-700: #0067b5;

  /* Optional rare highlight (keep minimal) */
  --color-arti-stamp: #ff4f12;

  /* -----------------------------
     TYPOGRAPHY
     ----------------------------- */
  --font-serif: "Boska", ui-serif, Georgia, serif;
  --font-sans: "Satoshi", ui-sans-serif, system-ui, sans-serif;

  /* -----------------------------
     MOTION
     ----------------------------- */
  @keyframes slide-up-fade {
    0% { transform: translateY(18px); opacity: 0; }
    100% { transform: translateY(0); opacity: 1; }
  }
  @keyframes scale-reveal {
    0% { transform: scale(1.03); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
  }
  @keyframes fade-up {
    0% { opacity: 0; transform: translateY(15px); }
    100% { opacity: 1; transform: translateY(0); }
  }
}

/* ==========================================================================
   BASE
   ========================================================================== */
@layer base {
  @font-face {
    font-family: "Boska";
    src: url("/static/fonts/Boska-Variable.woff2") format("woff2");
    font-weight: 200 900;
    font-display: swap;
  }
  @font-face {
    font-family: "Satoshi";
    src: url("/static/fonts/Satoshi-Variable.woff2") format("woff2");
    font-weight: 300 900;
    font-display: swap;
  }

  html { -webkit-tap-highlight-color: transparent; }

  body { font-family: var(--font-sans); }

  /* Scoped site wrapper */
  .artleptis {
    background: var(--color-arti-bg);
    color: var(--color-arti-ink);
    font-family: var(--font-sans);
  }

  /* Focus ring (global) */
  :where(a, button, input, select, textarea, [role="button"], [tabindex]:not([tabindex="-1"])):focus-visible {
    outline: 2px solid var(--color-arti-signal-500);
    outline-offset: 3px;
    border-radius: 9999px;
  }
}

/* ==========================================================================
   UTILITIES (small, reusable primitives)
   ========================================================================== */
@layer utilities {
  .tap-44 { min-width: 44px; min-height: 44px; }

  .surface { @apply bg-white ring-1 ring-black/5; }

  /* Modal state (keeps fixed UI under overlays) */
  html.modal-open header,
  html.modal-open nav.md\:hidden {
    z-index: 0 !important;
    pointer-events: none !important;
  }
  html.modal-open header {
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
  }

  [x-cloak] { display: none !important; }
}

/* ==========================================================================
   COMPONENTS
   ========================================================================== */
@layer components {
  /* --------------------------------
     Typography components
     -------------------------------- */
  .headline-serif {
    font-family: var(--font-serif);
    font-weight: 600;
    letter-spacing: -0.02em;
    line-height: 1.1;
    color: var(--color-arti-ink);
  }

  /* Micro system text (use sparingly) */
  .signal { color: var(--color-arti-signal-500); }

  .label {
    font-family: var(--font-sans);
    text-transform: uppercase;
    letter-spacing: .22em;
    font-weight: 800;
    font-size: 11px;
    color: color-mix(in srgb, var(--color-arti-signal-500) 70%, var(--color-arti-ink));
  }

  .rule {
    height: 1px;
    background: var(--color-arti-rule);
    position: relative;
  }
  .rule::after {
    content:"";
    position:absolute;
    left: 0;
    top: -1px;
    width: 96px;
    height: 3px;
    background: var(--color-arti-signal-500);
  }

  /* --------------------------------
     Navigation
     -------------------------------- */
  .nav-glass {
    background: rgba(253, 251, 247, 0.95);
    backdrop-filter: blur(12px);
    border-bottom: 1px solid rgba(18, 18, 18, 0.05);
  }

  /* Header icon hit area + states */
  header .flex.items-center.gap-3 > button[aria-label],
  header .flex.items-center.gap-3 > a[aria-label],
  header .flex.items-center.gap-3 > div > button[aria-label],
  header .flex.items-center.gap-4 > button[aria-label],
  header .flex.items-center.gap-4 > a[aria-label],
  header .flex.items-center.gap-4 > div > button[aria-label] {
    min-width: 44px;
    min-height: 44px;
    padding: 10px;
    border-radius: 9999px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transition: background-color 200ms;
  }

  header .flex.items-center.gap-3 > button[aria-label]:hover,
  header .flex.items-center.gap-3 > a[aria-label]:hover,
  header .flex.items-center.gap-3 > div > button[aria-label]:hover,
  header .flex.items-center.gap-4 > button[aria-label]:hover,
  header .flex.items-center.gap-4 > a[aria-label]:hover,
  header .flex.items-center.gap-4 > div > button[aria-label]:hover {
    background: rgba(18, 18, 18, 0.05);
  }

  header .flex.items-center.gap-3 > button[aria-label]:focus-visible,
  header .flex.items-center.gap-3 > a[aria-label]:focus-visible,
  header .flex.items-center.gap-3 > div > button[aria-label]:focus-visible,
  header .flex.items-center.gap-4 > button[aria-label]:focus-visible,
  header .flex.items-center.gap-4 > a[aria-label]:focus-visible,
  header .flex.items-center.gap-4 > div > button[aria-label]:focus-visible {
    outline: 2px solid var(--color-arti-signal-500);
    outline-offset: 3px;
  }

  header svg { display: block; }

  header a[aria-label="Cart"] > span {
    box-shadow: 0 0 0 2px #FDFBF7;
  }

  /* --------------------------------
     Buttons
     -------------------------------- */
  .btn-primary {
    @apply inline-flex items-center justify-center gap-2
      px-8 py-3.5 text-sm font-bold tracking-[0.16em] uppercase
      text-[var(--color-arti-paper)]
      active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed;
    border-radius: 2px;
    background: var(--color-arti-ink);
    border: 1px solid var(--color-arti-ink);
    transition: transform 220ms, filter 220ms;
  }
  .btn-primary:hover { filter: brightness(1.15); }

  .btn-outline {
    @apply inline-flex items-center justify-center gap-2
      px-8 py-3.5 text-sm font-bold tracking-[0.16em] uppercase
      transition-all duration-300 active:scale-[0.98];
    border-radius: 2px;
    background: transparent;
    border: 1px solid var(--color-arti-rule);
    color: var(--color-arti-ink);
  }
  .btn-outline:hover {
    border-color: var(--color-arti-signal-500);
    color: var(--color-arti-signal-700);
  }

  /* Links (used in footer + suggestions) */
  .footer-link {
    text-decoration: none;
    border-bottom: 1px solid color-mix(in srgb, var(--color-arti-signal-500) 55%, transparent);
    padding-bottom: 2px;
    transition: border-color 200ms, color 200ms;
  }
  .footer-link:hover {
    color: var(--color-arti-signal-700);
    border-bottom-color: var(--color-arti-signal-500);
  }

  /* --------------------------------
     Cards / hover (light touch)
     -------------------------------- */
  .card-hover { @apply transition-all duration-300 ease-out; }
  @media (hover:hover) {
    .card-hover:hover { transform: translateY(-4px); }
  }

  /* ==========================================================================
     HERO (Brutal Editorial)
     ========================================================================== */
  .hero-crosshair{
    position:absolute;
    left: 50%;
    top: 92px;
    width: 140vw;
    height: 1px;
    transform: translateX(-50%);
    background: var(--color-arti-rule);
    pointer-events:none;
  }
  .hero-crosshair::after{
    content:"";
    position:absolute;
    left: 12%;
    top: -1px;
    width: 140px;
    height: 3px;
    background: var(--color-arti-signal-500);
  }

  .hero-kicker{
    font-family: var(--font-sans);
    text-transform: uppercase;
    letter-spacing: .22em;
    font-weight: 800;
    font-size: 11px;
    color: color-mix(in srgb, var(--color-arti-signal-500) 65%, var(--color-arti-ink));
  }
  .hero-kicker-rule{
    height: 1px;
    flex: 1;
    background: var(--color-arti-rule);
  }

  .hero-title{
    font-family: var(--font-serif);
    font-weight: 650;
    letter-spacing: -0.03em;
    line-height: 0.92;
    font-size: clamp(56px, 6vw, 104px);
    color: var(--color-arti-ink);
    text-wrap: balance;
  }
  .hero-title-muted{
    color: color-mix(in srgb, var(--color-arti-ink) 58%, transparent);
    font-style: italic;
  }

  .hero-copy{
    max-width: 34ch;
    font-size: 16px;
    line-height: 1.7;
    color: var(--color-arti-ink-60);
  }

  .hero-link{
    display:inline-flex;
    align-items:center;
    justify-content:center;
    padding: 14px 0;
    font-weight: 800;
    letter-spacing: .16em;
    text-transform: uppercase;
    font-size: 12px;
    color: var(--color-arti-ink);
    border-bottom: 2px solid color-mix(in srgb, var(--color-arti-signal-500) 60%, transparent);
    transition: border-color 180ms, color 180ms;
  }
  .hero-link:hover{
    color: var(--color-arti-signal-700);
    border-bottom-color: var(--color-arti-signal-500);
  }

  .hero-marker{
    width: 56px;
    height: 6px;
    background: var(--color-arti-signal-500);
  }

  /* ==========================================================================
     PLATE (image container language)
     ========================================================================== */
  .plate{
    border-radius: 0;
    background: var(--color-arti-mist);
    border: 1px solid var(--color-arti-rule);
    box-shadow: 0 30px 80px rgba(11,12,15,.10);
    position: relative;
    user-select:none;
  }
  .plate--signal::before{
    content:"";
    position:absolute;
    left: -1px;
    top: -1px;
    width: 56px;
    height: 6px;
    background: var(--color-arti-signal-500);
    z-index: 5;
  }
  .plate--signal::after{
    content:"";
    position:absolute;
    right: -1px;
    bottom: -1px;
    width: 1px;
    height: 72px;
    background: var(--color-arti-signal-500);
    z-index: 5;
  }

  .hero-slide{
    opacity: 0;
    visibility: hidden;
    transition: opacity 420ms cubic-bezier(.16,1,.3,1);
  }
  .hero-slide.is-active{
    opacity: 1;
    visibility: visible;
  }

  .hero-pagination{
    position:absolute;
    left: 16px;
    bottom: 16px;
    z-index: 10;
    background: color-mix(in srgb, var(--color-arti-paper) 92%, transparent);
    border: 1px solid var(--color-arti-rule);
    padding: 10px 12px;
    width: 160px;
  }
  .hero-pagination__top{
    display:flex;
    align-items:baseline;
    gap: 8px;
    font-family: var(--font-sans);
    letter-spacing: .20em;
    text-transform: uppercase;
    font-weight: 900;
    font-size: 11px;
    color: var(--color-arti-ink);
  }
  .hero-pagination__cur{ color: var(--color-arti-signal-700); }
  .hero-pagination__sep{ opacity: .35; }
  .hero-pagination__tot{ opacity: .65; }

  .hero-pagination__bar{
    margin-top: 10px;
    height: 2px;
    background: color-mix(in srgb, var(--color-arti-signal-500) 22%, transparent);
    position: relative;
    overflow: hidden;
  }
  .hero-pagination__fill{
    position:absolute;
    left:0; top:0; bottom:0;
    width: 22%;
    background: var(--color-arti-signal-500);
  }

  .hero-caption{
    font-family: var(--font-sans);
    font-size: 12px;
    line-height: 1.4;
    max-width: 40ch;
  }
  .hero-caption__label{
    display:block;
    text-transform: uppercase;
    letter-spacing: .22em;
    font-weight: 900;
    font-size: 10px;
    opacity: .55;
  }
  .hero-caption__value{
    display:block;
    margin-top: 4px;
    opacity: .75;
  }
  .hero-caption--right{
    text-align: right;
    max-width: none;
  }
}

/* ==========================================================================
   MOTION HOOKS
   ========================================================================== */
@media (min-width: 768px) {
  .animate-entrance {
    animation: slide-up-fade 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }
  .animate-image {
    animation: scale-reveal 1.1s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }
  .delay-100 { animation-delay: 100ms; }
  .delay-200 { animation-delay: 200ms; }
  .delay-300 { animation-delay: 300ms; }
}

/* ==========================================================================
   ACCESSIBILITY (reduced motion)
   ========================================================================== */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
    scroll-behavior: auto !important;
  }

  header [aria-controls="mobile-menu"] span {
    transition-duration: 0.001ms !important;
  }
}
