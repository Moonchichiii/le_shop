@import "tailwindcss";
@plugin "tailwindcss-animate";

/* ==========================================================================
   ART LEPTIS — DESIGN SYSTEM v2 (2026)
   "Eco-Editorial Brutalism"
   ========================================================================== */

@theme {
  /* ----------------------------
     COLOR TOKENS
     ---------------------------- */
  /* CORE */
  --color-paper: #fbf7f0;
  --color-surface: #ffffff;
  --color-mist: #f2efe8;
  --color-mist-cool: #e8ecef;

  --color-ink: #0b0c0f;
  --color-ink-80: rgba(11, 12, 15, 0.82);
  --color-ink-60: rgba(11, 12, 15, 0.62);
  --color-ink-20: rgba(11, 12, 15, 0.2);
  --color-ink-10: rgba(11, 12, 15, 0.1);
  --color-ink-05: rgba(11, 12, 15, 0.05);

  --color-rule: rgba(11, 12, 15, 0.15);

  /* SIGNAL (Deep Blue) */
  --color-signal-50: #eef7ff;
  --color-signal-200: #bfe6ff;
  --color-signal-400: #4dbdff;
  --color-signal-500: #0aa8ff;
  --color-signal-700: #0067b5;
  --color-signal-800: #004d88;

  /* UTILITY */
  --color-slate-300: #cbd5e1;
  --color-slate-400: #94a3b8;
  --color-slate-500: #64748b;

  --color-sand-50: #fdfcf8;
  --color-sand-100: #f5f0e6;
  --color-sand-300: #e6dec9;
  --color-sand-500: #bfaea0;
  --color-sand-700: #5c5248;

  --color-ember-500: #f97316;
  --color-moss-50: #f0fdf4;
  --color-moss-200: #bbf7d0;
  --color-moss-700: #15803d;

  /* ----------------------------
     BACKWARD COMPAT (remove once templates migrated)
     ---------------------------- */
  --color-arti-bg: var(--color-paper);
  --color-arti-ink: var(--color-ink);
  --color-arti-ink-60: var(--color-ink-60);
  --color-arti-rule: var(--color-rule);
  --color-arti-signal-500: var(--color-signal-500);
  --color-arti-mist: var(--color-mist);
  --color-arti-accent: var(--color-signal-500);
  --color-arti-dark: var(--color-ink);
  --color-arti-gray: var(--color-mist);

  /* ----------------------------
     TYPOGRAPHY
     ---------------------------- */
  --font-serif: "Boska", ui-serif, Georgia, serif;
  --font-sans: "Satoshi", ui-sans-serif, system-ui, sans-serif;

  /* ----------------------------
     SPACING SCALE (editorial rhythm)
     ---------------------------- */
  --space-section: clamp(6rem, 10vw, 10rem);
  --space-section-sm: clamp(4rem, 7vw, 6rem);
  --space-block: clamp(2rem, 4vw, 3.5rem);

  /* ----------------------------
     MOTION
     ---------------------------- */
  @keyframes slide-up-fade {
    0% {
      transform: translateY(24px);
      opacity: 0;
    }
    100% {
      transform: translateY(0);
      opacity: 1;
    }
  }
  @keyframes scale-reveal {
    0% {
      transform: scale(1.04);
      opacity: 0;
    }
    100% {
      transform: scale(1);
      opacity: 1;
    }
  }
  @keyframes marquee-scroll {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }
}

/* ==========================================================================
   BASE
   ========================================================================== */
@layer base {
  @font-face {
    font-family: "Boska";
    src: url("/static/fonts/Boska-Variable.woff2") format("woff2");
    font-weight: 200 900;
    font-display: swap;
  }
  @font-face {
    font-family: "Satoshi";
    src: url("/static/fonts/Satoshi-Variable.woff2") format("woff2");
    font-weight: 300 900;
    font-display: swap;
  }

  html {
    -webkit-tap-highlight-color: transparent;
  }

  body {
    font-family: var(--font-sans);
  }

  .artleptis {
    background: var(--color-paper);
    color: var(--color-ink);
    font-family: var(--font-sans);
  }

  /* Focus ring — sharp, not rounded */
  :where(
      a,
      button,
      input,
      select,
      textarea,
      [role="button"],
      [tabindex]:not([tabindex="-1"])
    ):focus-visible {
    outline: 2px solid var(--color-ink);
    outline-offset: 2px;
    border-radius: 0;
  }
}

/* ==========================================================================
   UTILITIES
   ========================================================================== */
@layer utilities {
  .tap-44 {
    min-width: 44px;
    min-height: 44px;
  }

  .surface {
    @apply bg-white ring-1 ring-black/5;
  }

  /* Modal state */
  html.modal-open header,
  html.modal-open nav.md\:hidden {
    z-index: 0 !important;
    pointer-events: none !important;
  }
  html.modal-open header {
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
  }

  [x-cloak] {
    display: none !important;
  }

  /* Editorial spacing utilities */
  .py-section {
    padding-top: var(--space-section);
    padding-bottom: var(--space-section);
  }
  .py-section-sm {
    padding-top: var(--space-section-sm);
    padding-bottom: var(--space-section-sm);
  }
  .mt-section {
    margin-top: var(--space-section);
  }
  .mb-section {
    margin-bottom: var(--space-section);
  }
  .gap-block {
    gap: var(--space-block);
  }
}

/* ==========================================================================
   COMPONENTS
   ========================================================================== */
@layer components {
  /* ================================
     TYPOGRAPHY
     ================================ */

  /* Standard headline */
  .headline-serif {
    font-family: var(--font-serif);
    font-weight: 600;
    letter-spacing: -0.02em;
    line-height: 1.05;
    color: var(--color-ink);
  }

  /* Display — viewport-filling massive type */
  .text-display {
    font-family: var(--font-serif);
    font-weight: 700;
    letter-spacing: -0.04em;
    line-height: 0.88;
    color: var(--color-ink);
    font-size: clamp(3.5rem, 12vw, 11rem);
    text-wrap: balance;
  }

  /* Muted display variant (for decorative oversized type) */
  .text-display-muted {
    color: var(--color-ink-10);
  }

  .signal {
    color: var(--color-signal-500);
  }

  .label {
    font-family: var(--font-sans);
    text-transform: uppercase;
    letter-spacing: 0.22em;
    font-weight: 800;
    font-size: 0.6875rem;
    color: var(--color-ink-60);
  }

  .text-meta {
    font-size: 0.625rem;
    font-weight: 700;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: var(--color-slate-400);
  }

  /* ================================
     DIVIDERS
     ================================ */
  .divider {
    width: 100%;
    height: 1px;
    background: var(--color-rule);
    border: none;
  }

  .section-break {
    width: 100%;
    height: 1px;
    background: var(--color-rule);
    border: none;
    margin-top: var(--space-section);
    margin-bottom: var(--space-section);
  }

  .rule {
    height: 1px;
    background: var(--color-rule);
  }

  /* ================================
     NAVIGATION
     ================================ */
  .nav-solid {
    background: var(--color-paper);
    border-bottom: 1px solid var(--color-rule);
  }

  /* Header icon tap targets */
  header
    :is(
      button[aria-label],
      a[aria-label],
      div > button[aria-label]
    ) {
    min-width: 44px;
    min-height: 44px;
    padding: 10px;
    border-radius: 0;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transition: background-color 200ms;
  }
  header
    :is(
      button[aria-label],
      a[aria-label],
      div > button[aria-label]
    ):hover {
    background: var(--color-ink-05);
  }

  header svg {
    display: block;
  }

  header a[aria-label="Cart"] > span[data-testid="cart-count"] {
  box-shadow: 0 0 0 2px var(--color-paper);
}




  /* ================================
     BUTTONS
     ================================ */
  .btn-primary {
    @apply inline-flex items-center justify-center gap-2
      px-8 py-3.5 text-sm font-bold tracking-[0.16em] uppercase
      active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed;
    border-radius: 0;
    background: var(--color-ink);
    border: 1px solid var(--color-ink);
    color: var(--color-paper);
    transition: background-color 220ms, transform 220ms;
  }
  .btn-primary:hover {
    background: #1a1b1f;
  }

  .btn-signal {
    @apply inline-flex items-center justify-center gap-2
      px-8 py-3.5 text-sm font-bold tracking-[0.16em] uppercase
      active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed;
    border-radius: 0;
    background: var(--color-signal-700);
    border: 1px solid var(--color-signal-700);
    color: #ffffff;
    transition: background-color 220ms, transform 220ms;
  }
  .btn-signal:hover {
    background: var(--color-signal-800);
    border-color: var(--color-signal-800);
  }

  .btn-outline {
    @apply inline-flex items-center justify-center gap-2
      px-8 py-3.5 text-sm font-bold tracking-[0.16em] uppercase
      active:scale-[0.98];
    border-radius: 0;
    background: transparent;
    border: 1px solid var(--color-rule);
    color: var(--color-ink);
    transition: border-color 220ms, color 220ms;
  }
  .btn-outline:hover {
    border-color: var(--color-ink);
    color: var(--color-ink);
  }

  .btn-brutal {
    @apply inline-flex items-center justify-center gap-2
      px-8 py-3.5 text-sm font-bold tracking-[0.16em] uppercase
      active:scale-[0.98];
    border-radius: 0;
    background: var(--color-ink);
    border: 1px solid var(--color-ink);
    color: var(--color-paper);
    transition: background-color 220ms, transform 220ms;
  }
  .btn-brutal:hover {
    background: #1a1b1f;
  }

  .btn-brutal-ghost {
    @apply inline-flex items-center justify-center gap-2
      px-8 py-3.5 text-sm font-bold tracking-[0.16em] uppercase
      active:scale-[0.98];
    border-radius: 0;
    background: transparent;
    border: 1px solid var(--color-rule);
    color: var(--color-ink);
    transition: border-color 220ms, color 220ms;
  }
  .btn-brutal-ghost:hover {
    border-color: var(--color-ink);
  }

  /* ================================
     FILTER PILLS
     ================================ */
  .pill {
    display: inline-flex;
    align-items: center;
    padding: 8px 20px;
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    border: 1px solid var(--color-rule);
    border-radius: 0;
    background: transparent;
    color: var(--color-ink);
    transition: border-color 250ms, color 250ms, background-color 250ms;
  }
  .pill:hover {
    border-color: var(--color-ink);
  }
  .pill--active {
    background: var(--color-ink);
    border-color: var(--color-ink);
    color: #ffffff;
  }

  /* ================================
     BADGES
     ================================ */
  .badge {
    display: inline-flex;
    align-items: center;
    padding: 3px 8px;
    font-size: 0.625rem;
    font-weight: 800;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    border-radius: 0;
  }
  .badge--sold-out {
    background: var(--color-ink);
    color: #ffffff;
  }
  .badge--new {
    background: var(--color-signal-50);
    border: 1px solid var(--color-signal-200);
    color: var(--color-signal-700);
  }
  .badge--sale {
    background: var(--color-ember-500);
    color: #ffffff;
  }
  .badge--stock {
    background: var(--color-moss-50);
    border: 1px solid var(--color-moss-200);
    color: var(--color-moss-700);
  }

  /* ================================
     PRODUCT CARD (Editorial)
     ================================ */
  .product-card {
    position: relative;
    display: flex;
    flex-direction: column;
    height: 100%;
  }

  .product-card__frame {
    position: relative;
    aspect-ratio: 4 / 5;
    overflow: hidden;
    background: var(--color-mist);
    border: 1px solid transparent;
    border-radius: 0;
    transition: border-color 400ms cubic-bezier(0.25, 1, 0.5, 1);
  }
  .product-card__frame img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 700ms cubic-bezier(0.25, 1, 0.5, 1);
  }
  .product-card:hover .product-card__frame {
    border-color: var(--color-ink);
  }
  .product-card:hover .product-card__frame img {
    transform: scale(1.04);
  }

  .product-card__body {
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid var(--color-rule);
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .product-card__title {
    font-family: var(--font-serif);
    font-size: 1.375rem;
    font-weight: 500;
    line-height: 1.15;
    color: var(--color-ink);
    transition: color 250ms;
  }
  .product-card:hover .product-card__title {
    color: var(--color-ink-80);
  }

  .product-card__price {
    font-family: var(--font-sans);
    font-size: 1.0625rem;
    font-weight: 600;
    color: var(--color-ink);
  }

  .product-card__meta {
    font-size: 0.625rem;
    font-weight: 700;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: var(--color-slate-400);
  }

  .product-card__add {
    display: inline-flex;
    align-items: center;
    padding: 4px 16px;
    font-size: 0.625rem;
    font-weight: 700;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    border: 1px solid var(--color-rule);
    border-radius: 0;
    background: transparent;
    color: var(--color-ink);
    transition: border-color 250ms, background-color 250ms;
  }
  .product-card__add:hover {
    border-color: var(--color-ink);
    background: var(--color-ink-05);
  }

  /* ================================
     PLATE (Image container — simplified)
     ================================ */
  .plate {
    border-radius: 0;
    background: var(--color-mist);
    border: 1px solid var(--color-rule);
    position: relative;
    user-select: none;
  }

  .hero-slide {
    opacity: 0;
    visibility: hidden;
  }
  .hero-slide.is-active {
    opacity: 1;
    visibility: visible;
  }

  /* ================================
     HERO
     ================================ */
  .hero-kicker {
    font-family: var(--font-sans);
    text-transform: uppercase;
    letter-spacing: 0.22em;
    font-weight: 800;
    font-size: 0.6875rem;
    color: var(--color-ink-60);
  }

  .hero-title {
    font-family: var(--font-serif);
    font-weight: 700;
    letter-spacing: -0.03em;
    line-height: 0.88;
    font-size: clamp(3.5rem, 9vw, 10rem);
    color: var(--color-ink);
    text-wrap: balance;
  }

  .hero-title-muted {
    color: var(--color-ink-10);
    font-style: italic;
  }

  .hero-copy {
    max-width: 34ch;
    font-size: 1.0625rem;
    line-height: 1.7;
    color: var(--color-ink-60);
  }

  .hero-link {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 14px 0;
    font-weight: 800;
    letter-spacing: 0.16em;
    text-transform: uppercase;
    font-size: 0.75rem;
    color: var(--color-ink);
    border-bottom: 1px solid var(--color-ink-20);
    transition: border-color 200ms;
  }
  .hero-link:hover {
    border-bottom-color: var(--color-ink);
  }

  .hero-caption {
    font-family: var(--font-sans);
    font-size: 0.75rem;
    line-height: 1.4;
    max-width: 40ch;
  }
  .hero-caption__label {
    display: block;
    text-transform: uppercase;
    letter-spacing: 0.22em;
    font-weight: 900;
    font-size: 0.625rem;
    color: var(--color-slate-400);
  }
  .hero-caption__value {
    display: block;
    margin-top: 4px;
    color: var(--color-ink-60);
  }
  .hero-caption--right {
    text-align: right;
    max-width: none;
  }

  /* ================================
     MARQUEE (Scrolling text band)
     ================================ */
  .marquee {
    width: 100%;
    overflow: hidden;
    border-top: 1px solid var(--color-rule);
    border-bottom: 1px solid var(--color-rule);
    padding: 1.25rem 0;
    background: var(--color-paper);
  }

  .marquee--dark {
    background: var(--color-ink);
    border-color: rgba(255, 255, 255, 0.1);
  }
  .marquee--dark .marquee__text {
    color: var(--color-paper);
  }

  .marquee__track {
    display: flex;
    width: max-content;
    animation: marquee-scroll 30s linear infinite;
  }

  .marquee:hover .marquee__track {
    animation-play-state: paused;
  }

  .marquee__text {
    font-family: var(--font-serif);
    font-size: clamp(1rem, 2vw, 1.5rem);
    font-weight: 500;
    letter-spacing: -0.01em;
    color: var(--color-ink-60);
    white-space: nowrap;
    padding: 0 2rem;
  }

  .marquee__separator {
    display: inline-block;
    width: 6px;
    height: 6px;
    background: var(--color-ink-20);
    border-radius: 0;
    margin: 0 1.5rem;
    align-self: center;
    flex-shrink: 0;
  }

  .marquee--dark .marquee__separator {
    background: rgba(255, 255, 255, 0.2);
  }
  
/* Form style */
.artleptis input[type="text"],
.artleptis input[type="email"],
.artleptis input[type="password"],
.artleptis input[type="number"],
.artleptis select,
.artleptis textarea {
  width: 100%;
  border: 1px solid var(--color-rule);
  background: transparent;
  padding: 0.75rem 0.875rem;
  font-size: 0.875rem;
  font-family: var(--font-sans);
  color: var(--color-ink);
  transition: border-color 200ms;
}
.artleptis input:focus,
.artleptis select:focus,
.artleptis textarea:focus {
  outline: none;
  border-color: var(--color-ink);
}

  /* ================================
     FOOTER LINKS
     ================================ */
  .footer-link {
    text-decoration: none;
    border-bottom: 1px solid var(--color-rule);
    padding-bottom: 2px;
    transition: border-color 200ms, color 200ms;
  }
  .footer-link:hover {
    color: var(--color-ink);
    border-bottom-color: var(--color-ink);
  }

  /* ================================
     SECTION BACKGROUNDS
     ================================ */
  .bg-sand-wash {
    background: var(--color-sand-50);
  }
  .bg-mist-cool {
    background: var(--color-mist-cool);
  }
  .bg-ink-inverted {
    background: var(--color-ink);
    color: var(--color-paper);
  }
  .bg-ink-inverted .label {
    color: var(--color-slate-400);
  }
  .bg-ink-inverted .headline-serif {
    color: var(--color-paper);
  }
  .bg-ink-inverted .footer-link {
    color: var(--color-slate-300);
    border-bottom-color: rgba(255, 255, 255, 0.15);
  }
  .bg-ink-inverted .footer-link:hover {
    color: #ffffff;
    border-bottom-color: #ffffff;
  }
  .bg-ink-inverted .divider,
  .bg-ink-inverted .rule {
    background: rgba(255, 255, 255, 0.1);
  }

  /* ================================
     COOKIE CONSENT
     ================================ */
  .cc-overlay {
    position: fixed;
    inset: 0;
    z-index: 9999;
    display: flex;
    align-items: flex-end;
    justify-content: flex-start;
    padding: 24px;
    background: rgba(11, 12, 15, 0.5);
  }
  .cc-sheet {
    background: var(--color-paper);
    border: 1px solid var(--color-rule);
    padding: 32px;
    max-width: 440px;
    width: 100%;
  }
  .cc-sheet .caption {
    font-family: var(--font-sans);
    font-size: 0.625rem;
    font-weight: 800;
    letter-spacing: 0.22em;
    text-transform: uppercase;
    color: var(--color-slate-400);
  }
  .cc-glyph {
    position: fixed;
    bottom: 24px;
    left: 24px;
    z-index: 9998;
    width: 44px;
    height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--color-ink);
    border: 1px solid var(--color-ink);
    border-radius: 0;
    cursor: pointer;
    transition: background-color 220ms;
  }
  .cc-glyph:hover {
    background: #1a1b1f;
  }
  .cc-glyph__icon {
    font-size: 18px;
    filter: grayscale(1) brightness(2);
  }

  /* ================================
     GSAP SCROLL REVEAL BASE STATES
     ================================ */
  .reveal {
    opacity: 0;
    will-change: transform, opacity;
  }

  .reveal-up {
    opacity: 0;
    transform: translateY(40px);
    will-change: transform, opacity;
  }

  .reveal-scale {
    opacity: 0;
    transform: scale(0.97);
    will-change: transform, opacity;
  }

  .reveal-left {
    opacity: 0;
    transform: translateX(-40px);
    will-change: transform, opacity;
  }

  .reveal-right {
    opacity: 0;
    transform: translateX(40px);
    will-change: transform, opacity;
  }

  /* When GSAP marks them "active" */
  .reveal.is-visible,
  .reveal-up.is-visible,
  .reveal-scale.is-visible,
  .reveal-left.is-visible,
  .reveal-right.is-visible {
    opacity: 1;
    transform: none;
  }
}

/* ==========================================================================
   MOTION HOOKS (CSS-only fallback for non-JS)
   ========================================================================== */
@media (min-width: 768px) {
  .animate-entrance {
    animation: slide-up-fade 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }
  .animate-image {
    animation: scale-reveal 1.1s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }
  .delay-100 {
    animation-delay: 100ms;
  }
  .delay-200 {
    animation-delay: 200ms;
  }
  .delay-300 {
    animation-delay: 300ms;
  }
}

/* ==========================================================================
   ACCESSIBILITY
   ========================================================================== */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
    scroll-behavior: auto !important;
  }

  .marquee__track {
    animation: none !important;
  }

  .reveal,
  .reveal-up,
  .reveal-scale,
  .reveal-left,
  .reveal-right {
    opacity: 1 !important;
    transform: none !important;
  }
}