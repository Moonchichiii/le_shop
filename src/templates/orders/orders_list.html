{% extends "base.html" %}

{% block title %}My Orders | Arti Corner{% endblock %}

{% block content %}
<div class="mx-auto max-w-4xl px-4 sm:px-6 py-12">
  <p class="text-xs font-bold tracking-[0.22em] text-arti-dark/60 uppercase">Account</p>
  <h1 class="headline-serif mt-3 text-4xl">My Orders</h1>

  {% if orders|length == 0 %}
    <div class="mt-10 rounded-3xl border border-arti-dark/10 bg-white p-8">
      <p class="text-arti-dark/70">You don’t have any orders yet.</p>
      <a href="{% url 'product_list' %}" class="btn-primary bg-primary-500 hover:bg-primary-600 text-white mt-6 inline-flex">Browse products</a>
    </div>
  {% else %}
    <div class="mt-10 space-y-4">
      {% for order in orders %}
        <div class="rounded-3xl border border-arti-dark/10 bg-white p-6">
          <div class="flex items-start justify-between gap-4">
            <div>
              <p class="text-xs uppercase tracking-widest opacity-60">Order</p>
              <p class="font-medium text-lg">#{{ order.id }}</p>
              <p class="mt-1 text-sm opacity-70">{{ order.created_at|date:"Y-m-d H:i" }}</p>
              <p class="mt-1 text-xs uppercase tracking-widest opacity-60">
                {{ order.get_status_display }}
              </p>
            </div>

            <div class="text-right">
              <p class="text-xs uppercase tracking-widest opacity-60">Total</p>
              <p class="headline-serif text-2xl">€{{ order.subtotal }}</p>
            </div>
          </div>

          <div class="mt-5 border-t border-arti-dark/10 pt-5 space-y-2">
            {% for item in order.items.all %}
              <div class="flex items-center justify-between text-sm">
                <p class="opacity-80">{{ item.product.name }} <span class="opacity-50">× {{ item.qty }}</span></p>
                <p class="opacity-80">€{{ item.line_total }}</p>
              </div>
            {% endfor %}
          </div>
        </div>
      {% endfor %}
    </div>
  {% endif %}
</div>
{% endblock %}
