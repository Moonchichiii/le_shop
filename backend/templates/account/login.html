{% extends "base.html" %}
{% load i18n socialaccount %}

{% block title %}Sign in | Art Leptis{% endblock %}

{% block content %}
<section class="artleptis">
  <div class="mx-auto max-w-md px-4 sm:px-6 py-section-sm">

    <div class="reveal-up">
      <span class="label">Account</span>
      <h1 class="headline-serif mt-3 text-4xl">Sign in</h1>
    </div>

    <div class="mt-8 border border-rule bg-paper p-6 sm:p-8 reveal-up">
      <form method="post" action="{% url 'account_login' %}" class="space-y-5">
        {% csrf_token %}

        <div>
          <label class="text-meta block mb-2" for="id_login">Email</label>
          {{ form.login }}
        </div>

        <div>
          <label class="text-meta block mb-2" for="id_password">Password</label>
          <input type="password"
                 name="password"
                 placeholder="••••••••"
                 data-testid="password"
                 class="w-full rounded-2xl border border-arti-dark/15 bg-white px-4 py-3 text-sm focus:border-arti-dark focus:ring-0">
        </div>

        <button type="submit" class="btn-primary w-full">Sign in</button>

        <div class="flex items-center justify-between">
          <a
            class="text-[11px] font-bold uppercase tracking-[0.12em] text-ink-60 border-b border-rule pb-0.5 hover:text-ink hover:border-ink transition-colors duration-200"
            href="{% url 'account_reset_password' %}"
          >
            Forgot password?
          </a>
          <a
            class="text-[11px] font-bold uppercase tracking-[0.12em] text-ink-60 border-b border-rule pb-0.5 hover:text-ink hover:border-ink transition-colors duration-200"
            href="{% url 'account_signup' %}"
          >
            Create account
          </a>
        </div>
      </form>

      <div class="rule mt-6"></div>

      <div class="mt-4 space-y-2">
        {% get_providers as socialaccount_providers %}
        {% if socialaccount_providers %}
          {% for provider in socialaccount_providers %}
            {% if provider.id == "google" %}
              <a href="{% provider_login_url provider.id %}" class="btn-outline w-full text-center inline-flex justify-center">
                Continue with Google
              </a>
            {% elif provider.id == "facebook" %}
              <a href="{% provider_login_url provider.id %}" class="btn-outline w-full text-center inline-flex justify-center">
                Continue with Facebook
              </a>
            {% endif %}
          {% endfor %}
        {% endif %}
      </div>

      <div class="rule mt-6"></div>

      <a href="{% url 'account_login' %}?method=code"
         class="btn-outline w-full text-center inline-flex justify-center mt-4">
        Email me a login code
      </a>
    </div>

    <div class="mt-4 flex items-center justify-between">
      <span class="text-meta">SEC. Auth</span>
      <span class="text-meta">Art Leptis</span>
    </div>

  </div>
</section>
{% endblock %}
