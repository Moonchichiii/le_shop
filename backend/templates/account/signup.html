{% extends "base.html" %}
{% load i18n socialaccount %}

{% block title %}Create account | Art Leptis{% endblock %}

{% block content %}
<section class="artleptis">
  <div class="mx-auto max-w-md px-4 sm:px-6 py-section-sm">

    <div class="reveal-up">
      <span class="label">Account</span>
      <h1 class="headline-serif mt-3 text-4xl">Create account</h1>
    </div>

    <div class="mt-8 border border-rule bg-paper p-6 sm:p-8 reveal-up">
      <form method="post" action="{% url 'account_signup' %}" class="space-y-5">
        {% csrf_token %}

        {% if form.non_field_errors %}
          <div class="border border-rule bg-mist p-3">
            <span class="text-meta block mb-1">Error</span>
            <div class="text-sm text-ink-80">{{ form.non_field_errors }}</div>
          </div>
        {% endif %}

        <!-- Render fields manually or rely on iteration if naming varies -->
        {% for field in form %}
          <div>
            <label class="text-meta block mb-2" for="{{ field.id_for_label }}">
              {{ field.label }}
            </label>
            {{ field }}
            {% if field.errors %}
              <p class="mt-1 text-xs text-red-600">{{ field.errors.0 }}</p>
            {% endif %}
          </div>
        {% endfor %}

        <button class="btn-primary w-full">Create account</button>

        <div class="rule"></div>

        <p class="text-sm text-ink-60">
          Already have an account?
          <a
            class="font-bold text-ink border-b border-rule pb-0.5 hover:border-ink transition-colors duration-200"
            href="{% url 'account_login' %}"
          >
            Sign in
          </a>
        </p>
      </form>
    </div>

    <div class="mt-4 flex items-center justify-between">
      <span class="text-meta">SEC. Registration</span>
      <span class="text-meta">Art Leptis</span>
    </div>

  </div>
</section>
{% endblock %}