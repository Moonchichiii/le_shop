{% extends "base.html" %}

{% block title %}Order Confirmed | Arti Corner{% endblock %}

{% block content %}
<div class="mx-auto max-w-2xl px-4 sm:px-6 py-12">
    <div class="text-center mb-10">
        <p class="text-xs font-bold tracking-[0.22em] text-arti-dark/60 uppercase">Success</p>
        <h1 class="headline-serif mt-3 text-4xl">Thank you for your order!</h1>
        <p class="mt-4 text-arti-dark/70">
            A confirmation email has been sent to <span class="font-medium text-arti-dark">{{ order.email }}</span>.
        </p>
    </div>

    <div class="rounded-3xl border border-arti-dark/10 bg-white p-6 sm:p-8">
        <div class="flex items-start justify-between border-b border-arti-dark/10 pb-6 mb-6">
            <div>
                <p class="text-xs uppercase tracking-widest opacity-60">Order Number</p>
                <p class="font-medium text-xl mt-1">#{{ order.id }}</p>
            </div>
            <div class="text-right">
                <p class="text-xs uppercase tracking-widest opacity-60">Date</p>
                <p class="font-medium mt-1">{{ order.created_at|date:"M d, Y" }}</p>
            </div>
        </div>

        <div class="space-y-4">
            {% for item in order.items.all %}
            <div class="flex gap-4">
                <div class="h-16 w-16 rounded-lg bg-arti-dark/5 overflow-hidden shrink-0">
                   {# Use simple img tag if helper not available, or product.image_url_200 #}
                   {% if item.product.image %}
                     <img src="{{ item.product.image_url_200 }}" class="h-full w-full object-cover" alt="">
                   {% endif %}
                </div>
                <div class="flex-1">
                    <div class="flex justify-between">
                        <h3 class="font-medium">{{ item.product.name }}</h3>
                        <p class="font-medium">€{{ item.line_total }}</p>
                    </div>
                    <p class="text-sm opacity-60 mt-1">Qty: {{ item.qty }}</p>
                </div>
            </div>
            {% endfor %}
        </div>

        <div class="border-t border-arti-dark/10 mt-6 pt-6">
            <div class="flex justify-between text-lg font-medium">
                <p>Total</p>
                <p>€{{ order.subtotal }}</p>
            </div>
        </div>
    </div>

    <div class="mt-8 flex justify-center">
        <a href="{% url 'product_list' %}" class="btn-primary px-8">Continue Shopping</a>
    </div>
</div>
{% endblock %}